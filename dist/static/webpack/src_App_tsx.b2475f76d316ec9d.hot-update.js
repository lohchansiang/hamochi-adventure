"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src_App_tsx",{

/***/ "./src/game/components/Match.ts":
/*!**************************************!*\
  !*** ./src/game/components/Match.ts ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Match; }\n/* harmony export */ });\nclass Gem {\n}\nclass Match {\n    drawField() {\n        this.gameArray = [];\n        this.poolArray = [];\n        this.inputArray = [];\n        this.gemGroup = this.scene.add.group();\n        for(let i = 0; i < this.fieldSizeY; i++){\n            this.gameArray[i] = [];\n            this.inputArray[i] = [];\n            for(let j = 0; j < this.fieldSizeX; j++){\n                let color = this.randomColor();\n                let x = this.startX + (this.gemSize * j + this.gemSize / 2);\n                let y = this.startY + (this.gemSize * i + this.gemSize / 2);\n                let gem = this.scene.add.sprite(x, y, color);\n                this.gemGroup.add(gem);\n                do {\n                    let randomColor = this.randomColor();\n                    gem.setTexture(randomColor);\n                    this.gameArray[i][j] = {\n                        gemColor: randomColor,\n                        gemSprite: gem,\n                        isEmpty: false\n                    };\n                }while (this.isMatch(i, j));\n            }\n        }\n    }\n    isMatch(row, col) {\n        return this.isHorizontalMatch(row, col) || this.isVerticalMatch(row, col);\n    }\n    isHorizontalMatch(row, col) {\n        return this.gemAt(row, col).gemColor == this.gemAt(row, col - 1).gemColor && this.gemAt(row, col).gemColor == this.gemAt(row, col - 2).gemColor;\n    }\n    isVerticalMatch(row, col) {\n        return this.gemAt(row, col).gemColor == this.gemAt(row - 1, col).gemColor && this.gemAt(row, col).gemColor == this.gemAt(row - 2, col).gemColor;\n    }\n    gemAt(row, col) {\n        if (row < 0 || row >= this.fieldSizeY || col < 0 || col >= this.fieldSizeX) {\n            return -1;\n        }\n        return this.gameArray[row][col];\n    }\n    gemSelect(pointer) {\n        if (this.canPick) {\n            this.dragging = true;\n            let row = Math.floor((pointer.y - this.startY) / this.gemSize);\n            let col = Math.floor((pointer.x - this.startX) / this.gemSize);\n            let pickedGem = this.gemAt(row, col);\n            if (pickedGem != -1) {\n                if (this.selectedGem == null) {\n                    pickedGem.gemSprite.setScale(1.2);\n                    pickedGem.gemSprite.setDepth(1);\n                    this.selectedGem = pickedGem;\n                } else {\n                    if (this.areTheSame(pickedGem, this.selectedGem)) {\n                        this.selectedGem.gemSprite.setScale(1);\n                        this.selectedGem = null;\n                    } else {\n                        if (this.areNext(pickedGem, this.selectedGem)) {\n                            this.selectedGem.gemSprite.setScale(1);\n                            this.swapGems(this.selectedGem, pickedGem, true);\n                        } else {\n                            this.selectedGem.gemSprite.setScale(1);\n                            pickedGem.gemSprite.setScale(1.2);\n                            this.selectedGem = pickedGem;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    startSwipe(pointer) {\n        if (this.dragging && this.selectedGem != null) {\n            let deltaX = pointer.downX - pointer.x;\n            let deltaY = pointer.downY - pointer.y;\n            let deltaRow = 0;\n            let deltaCol = 0;\n            if (deltaX > this.gemSize / 2 && Math.abs(deltaY) < this.gemSize / 4) {\n                deltaCol = -1;\n            }\n            if (deltaX < -this.gemSize / 2 && Math.abs(deltaY) < this.gemSize / 4) {\n                deltaCol = 1;\n            }\n            if (deltaY > this.gemSize / 2 && Math.abs(deltaX) < this.gemSize / 4) {\n                deltaRow = -1;\n            }\n            if (deltaY < -this.gemSize / 2 && Math.abs(deltaX) < this.gemSize / 4) {\n                deltaRow = 1;\n            }\n            if (deltaRow + deltaCol != 0) {\n                let pickedGem = this.gemAt(this.getGemRow(this.selectedGem) + deltaRow, this.getGemCol(this.selectedGem) + deltaCol);\n                if (pickedGem != -1) {\n                    this.selectedGem.gemSprite.setScale(1);\n                    this.swapGems(this.selectedGem, pickedGem, true);\n                    this.dragging = false;\n                }\n            }\n        }\n    }\n    stopSwipe() {\n        this.dragging = false;\n    }\n    areTheSame(gem1, gem2) {\n        return this.getGemRow(gem1) == this.getGemRow(gem2) && this.getGemCol(gem1) == this.getGemCol(gem2);\n    }\n    getGemRow(gem) {\n        return Math.floor((gem.gemSprite.y - this.startY) / this.gemSize);\n    }\n    getGemCol(gem) {\n        return Math.floor((gem.gemSprite.x - this.startX) / this.gemSize);\n    }\n    areNext(gem1, gem2) {\n        return Math.abs(this.getGemRow(gem1) - this.getGemRow(gem2)) + Math.abs(this.getGemCol(gem1) - this.getGemCol(gem2)) == 1;\n    }\n    swapGems(gem1, gem2, swapBack) {\n        this.swappingGems = 2;\n        this.canPick = false;\n        let fromColor = gem1.gemColor;\n        let fromSprite = gem1.gemSprite;\n        let toColor = gem2.gemColor;\n        let toSprite = gem2.gemSprite;\n        let gem1Row = this.getGemRow(gem1);\n        let gem1Col = this.getGemCol(gem1);\n        let gem2Row = this.getGemRow(gem2);\n        let gem2Col = this.getGemCol(gem2);\n        this.gameArray[gem1Row][gem1Col].gemColor = toColor;\n        this.gameArray[gem1Row][gem1Col].gemSprite = toSprite;\n        this.gameArray[gem2Row][gem2Col].gemColor = fromColor;\n        this.gameArray[gem2Row][gem2Col].gemSprite = fromSprite;\n        this.tweenGem(gem1, gem2, swapBack);\n        this.tweenGem(gem2, gem1, swapBack);\n    }\n    tweenGem(gem1, gem2, swapBack) {\n        let row = this.getGemRow(gem1);\n        let col = this.getGemCol(gem1);\n        this.scene.tweens.add({\n            targets: this.gameArray[row][col].gemSprite,\n            x: this.startX + (col * this.gemSize + this.gemSize / 2),\n            y: this.startY + (row * this.gemSize + this.gemSize / 2),\n            duration: this.swapSpeed,\n            callbackScope: this,\n            onComplete: function() {\n                this.swappingGems--;\n                if (this.swappingGems == 0) {\n                    if (!this.matchInBoard() && swapBack) {\n                        this.swapGems(gem1, gem2, false);\n                    } else {\n                        if (this.matchInBoard()) {\n                            this.handleMatches();\n                        } else {\n                            this.canPick = true;\n                            this.selectedGem = null;\n                        }\n                    }\n                }\n            }\n        });\n    }\n    matchInBoard() {\n        for(let i = 0; i < this.fieldSizeY; i++){\n            for(let j = 0; j < this.fieldSizeX; j++){\n                if (this.isMatch(i, j)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    handleMatches() {\n        this.removeMap = [];\n        for(let i = 0; i < this.fieldSizeY; i++){\n            this.removeMap[i] = [];\n            for(let j = 0; j < this.fieldSizeX; j++){\n                this.removeMap[i].push(0);\n            }\n        }\n        this.markMatches(\"horizontal\");\n        this.markMatches(\"vertical\");\n        this.destroyGems();\n    }\n    markMatches(direction) {\n        let iMax = direction == \"horizontal\" ? this.fieldSizeY : this.fieldSizeX;\n        let jMax = direction == \"horizontal\" ? this.fieldSizeX : this.fieldSizeY;\n        for(let i = 0; i < iMax; i++){\n            let colorStreak = 1;\n            let currentColor = -1;\n            let startStreak = 0;\n            let colorToWatch = 0;\n            for(let j = 0; j < jMax; j++){\n                if (direction == \"horizontal\") {\n                    colorToWatch = this.gemAt(i, j).gemColor;\n                } else {\n                    colorToWatch = this.gemAt(j, i).gemColor;\n                }\n                if (colorToWatch == currentColor) {\n                    colorStreak++;\n                }\n                if (colorToWatch != currentColor || j == jMax - 1) {\n                    if (colorStreak >= 3) {\n                        if (direction == \"horizontal\") {\n                        // console.log(\"HORIZONTAL :: Length = \" + colorStreak + \" :: Start = (\" + i + \",\" + startStreak + \") :: Color = \" + currentColor);\n                        } else {\n                        // console.log(\"VERTICAL :: Length = \" + colorStreak + \" :: Start = (\" + startStreak + \",\" + i + \") :: Color = \" + currentColor);\n                        }\n                        for(let k = 0; k < colorStreak; k++){\n                            if (direction == \"horizontal\") {\n                                this.removeMap[i][startStreak + k]++;\n                            } else {\n                                this.removeMap[startStreak + k][i]++;\n                            }\n                        }\n                    }\n                    startStreak = j;\n                    colorStreak = 1;\n                    currentColor = colorToWatch;\n                }\n            }\n        }\n    }\n    destroyGems() {\n        let destroyed = 0;\n        for(let i = 0; i < this.fieldSizeY; i++){\n            for(let j = 0; j < this.fieldSizeX; j++){\n                if (this.removeMap[i][j] > 0) {\n                    destroyed++;\n                    this.scene.tweens.add({\n                        targets: this.gameArray[i][j].gemSprite,\n                        alpha: 0.5,\n                        duration: this.destroySpeed,\n                        callbackScope: this,\n                        onComplete: function() {\n                            destroyed--;\n                            this.gameArray[i][j].gemSprite.visible = false;\n                            this.poolArray.push(this.gameArray[i][j].gemSprite);\n                            this.addScore(1);\n                            if (destroyed == 0) {\n                                this.makeGemsFall();\n                                this.replenishField();\n                            }\n                        }\n                    });\n                    this.gameArray[i][j].isEmpty = true;\n                }\n            }\n        }\n    }\n    makeGemsFall() {\n        for(let i = this.fieldSizeY - 2; i >= 0; i--){\n            for(let j = 0; j < this.fieldSizeX; j++){\n                if (!this.gameArray[i][j].isEmpty) {\n                    let fallTiles = this.holesBelow(i, j);\n                    if (fallTiles > 0) {\n                        this.scene.tweens.add({\n                            targets: this.gameArray[i][j].gemSprite,\n                            y: this.gameArray[i][j].gemSprite.y + fallTiles * this.gemSize,\n                            duration: this.fallSpeed * fallTiles\n                        });\n                        this.gameArray[i + fallTiles][j] = {\n                            gemSprite: this.gameArray[i][j].gemSprite,\n                            gemColor: this.gameArray[i][j].gemColor,\n                            isEmpty: false\n                        };\n                        this.gameArray[i][j].isEmpty = true;\n                    }\n                }\n            }\n        }\n    }\n    holesBelow(row, col) {\n        let result = 0;\n        for(let i = row + 1; i < this.fieldSizeY; i++){\n            if (this.gameArray[i][col].isEmpty) {\n                result++;\n            }\n        }\n        return result;\n    }\n    replenishField() {\n        let replenished = 0;\n        for(let j = 0; j < this.fieldSizeX; j++){\n            let emptySpots = this.holesInCol(j);\n            if (emptySpots > 0) {\n                for(let i = 0; i < emptySpots; i++){\n                    replenished++;\n                    let randomColor = this.randomColor();\n                    this.gameArray[i][j].gemColor = randomColor;\n                    this.gameArray[i][j].gemSprite = this.poolArray.pop();\n                    this.gameArray[i][j].gemSprite.setTexture(randomColor);\n                    this.gameArray[i][j].gemSprite.visible = this.isShow ? true : false;\n                    this.gameArray[i][j].gemSprite.x = this.startX + (this.gemSize * j + this.gemSize / 2);\n                    this.gameArray[i][j].gemSprite.y = this.startY + (this.gemSize / 2 - (emptySpots - i) * this.gemSize);\n                    this.gameArray[i][j].gemSprite.alpha = 0;\n                    this.gameArray[i][j].isEmpty = false;\n                    this.scene.tweens.add({\n                        targets: this.gameArray[i][j].gemSprite,\n                        y: this.startY + (this.gemSize * i + this.gemSize / 2),\n                        alpha: 1,\n                        duration: this.fallSpeed * emptySpots,\n                        callbackScope: this,\n                        onComplete: function() {\n                            replenished--;\n                            if (replenished == 0) {\n                                if (this.matchInBoard()) {\n                                    this.scene.time.addEvent({\n                                        delay: 250,\n                                        callback: this.handleMatches()\n                                    });\n                                } else {\n                                    this.canPick = true;\n                                    this.selectedGem = null;\n                                }\n                            }\n                        }\n                    });\n                }\n            }\n        }\n    }\n    holesInCol(col) {\n        var result = 0;\n        for(let i = 0; i < this.fieldSizeY; i++){\n            if (this.gameArray[i][col].isEmpty) {\n                result++;\n            }\n        }\n        return result;\n    }\n    randomColor() {\n        return this.gemColors[Phaser.Math.Between(0, this.gemColors.length - 1)];\n    }\n    addScore(value) {\n        this.score += value;\n        if (this.scoreText) this.scoreText.setText(\"Score: \" + this.score);\n        if (this.callbackScore && this.isShow) this.callbackScore(value);\n    }\n    show() {\n        this.gemGroup.setVisible(true);\n        this.isShow = true;\n    }\n    hide() {\n        this.gemGroup.setVisible(false);\n        this.isShow = false;\n    }\n    constructor(scene, x, y){\n        this.startX = 0;\n        this.startY = 0;\n        //\n        this.fieldSize = 6;\n        this.fieldSizeX = 7;\n        this.fieldSizeY = 6;\n        this.gemSize = 128;\n        this.swapSpeed = 200;\n        this.fallSpeed = 100;\n        this.destroySpeed = 200;\n        this.gemColors = [\n            \"blue\",\n            \"green\",\n            \"orange\",\n            \"red\"\n        ];\n        //\n        this.canPick = true;\n        this.dragging = false;\n        //\n        this.gameArray = [];\n        this.poolArray = [];\n        this.inputArray = [];\n        //\n        this.score = 0;\n        //\n        this.isShow = true;\n        this.scene = scene;\n        this.startX = x - this.fieldSizeX * this.gemSize / 2;\n        this.startY = y - this.fieldSizeY * this.gemSize / 2;\n        // Display Score\n        // this.scoreText = this.scene.add.text( GameLib.screenWidth/2, this.startY - 30, \"Score: \" + this.score, {fontSize:40,color:'black'} ).setOrigin(0.5)\n        this.drawField();\n        this.scene.input.on(\"pointerdown\", this.gemSelect, this);\n        this.scene.input.on(\"pointermove\", this.startSwipe, this);\n        this.scene.input.on(\"pointerup\", this.stopSwipe, this);\n    }\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFDckJPLFVBQWtCO2FBQ2xCdUQsWUFBb0I7YUFDcEIwQixZQUFvQjthQUNwQlAsZUFBdUI7YUFDdkJrQixZQUFzQjtZQUFDO1lBQU87WUFBUTtZQUFTO1NBQU07UUFDckQsRUFBRTthQUNGM0UsVUFBbUI7YUFDbkJDLFdBQW9CO1FBQ3BCLEVBQUU7YUFDRmpDLFlBQWlCLEVBQUU7YUFDbkJDLFlBQWlCLEVBQUU7YUFDbkJDLGFBQWtCLEVBQUU7UUFNcEIsRUFBRTthQUNGOEcsUUFBZ0I7UUFJaEIsRUFBRTthQUNGVixTQUFrQjtRQUdkLElBQUksQ0FBQ2xHLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNVLE1BQU0sR0FBR0QsSUFBSyxJQUFJLENBQUNILFVBQVUsR0FBQyxJQUFJLENBQUNLLE9BQU8sR0FBRTtRQUNqRCxJQUFJLENBQUNFLE1BQU0sR0FBR0QsSUFBSyxJQUFJLENBQUNSLFVBQVUsR0FBQyxJQUFJLENBQUNPLE9BQU8sR0FBRTtRQUVqRCxnQkFBZ0I7UUFDaEIsc0pBQXNKO1FBRXRKLElBQUksQ0FBQ2hCLFNBQVM7UUFDZCxJQUFJLENBQUNLLEtBQUssQ0FBQ3FILEtBQUssQ0FBQ0MsRUFBRSxDQUFDLGVBQWUsSUFBSSxDQUFDNUYsU0FBUyxFQUFFLElBQUk7UUFDdkQsSUFBSSxDQUFDMUIsS0FBSyxDQUFDcUgsS0FBSyxDQUFDQyxFQUFFLENBQUMsZUFBZSxJQUFJLENBQUMvRSxVQUFVLEVBQUUsSUFBSTtRQUN4RCxJQUFJLENBQUN2QyxLQUFLLENBQUNxSCxLQUFLLENBQUNDLEVBQUUsQ0FBQyxhQUFhLElBQUksQ0FBQ3JFLFNBQVMsRUFBRSxJQUFJO0lBQ3pEO0FBa1lKO0FBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2dhbWUvY29tcG9uZW50cy9NYXRjaC50cz84NmEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHYW1lTGliIGZyb20gXCJAL2xpYi9HYW1lTGliXCI7XG5pbXBvcnQgeyBHYW1lLCBHYW1lT2JqZWN0cywgU2NlbmUgfSBmcm9tIFwicGhhc2VyXCI7XG5cbmNsYXNzIEdlbXtcbiAgICBnZW1Db2xvcjogc3RyaW5nXG4gICAgZ2VtU3ByaXRlOiBHYW1lT2JqZWN0cy5TcHJpdGVcbiAgICBpc0VtcHR5OiBib29sZWFuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGNoe1xuXG4gICAgc2NlbmU6IFBoYXNlci5TY2VuZVxuICAgIHN0YXJ0WDogbnVtYmVyID0gMFxuICAgIHN0YXJ0WTogbnVtYmVyID0gMFxuICAgIC8vXG4gICAgZmllbGRTaXplOiBudW1iZXIgPSA2XG4gICAgZmllbGRTaXplWDogbnVtYmVyID0gN1xuICAgIGZpZWxkU2l6ZVk6IG51bWJlciA9IDZcbiAgICBnZW1TaXplOiBudW1iZXIgPSAxMjhcbiAgICBzd2FwU3BlZWQ6IG51bWJlciA9IDIwMFxuICAgIGZhbGxTcGVlZDogbnVtYmVyID0gMTAwXG4gICAgZGVzdHJveVNwZWVkOiBudW1iZXIgPSAyMDBcbiAgICBnZW1Db2xvcnM6IHN0cmluZ1tdID0gWydibHVlJywnZ3JlZW4nLCdvcmFuZ2UnLCdyZWQnXVxuICAgIC8vXG4gICAgY2FuUGljazogYm9vbGVhbiA9IHRydWVcbiAgICBkcmFnZ2luZzogYm9vbGVhbiA9IGZhbHNlXG4gICAgLy9cbiAgICBnYW1lQXJyYXk6IGFueSA9IFtdXG4gICAgcG9vbEFycmF5OiBhbnkgPSBbXVxuICAgIGlucHV0QXJyYXk6IGFueSA9IFtdXG4gICAgZ2VtR3JvdXA6IEdhbWVPYmplY3RzLkdyb3VwXG4gICAgLy9cbiAgICBzZWxlY3RlZEdlbTogR2VtIHwgbnVsbFxuICAgIHN3YXBwaW5nR2VtczogbnVtYmVyXG4gICAgcmVtb3ZlTWFwOiBhbnlcbiAgICAvL1xuICAgIHNjb3JlOiBudW1iZXIgPSAwXG4gICAgc2NvcmVUZXh0OiBHYW1lT2JqZWN0cy5UZXh0XG4gICAgLy9cbiAgICBjYWxsYmFja1Njb3JlOiBGdW5jdGlvbiB8IG51bGxcbiAgICAvL1xuICAgIGlzU2hvdzogYm9vbGVhbiA9IHRydWVcblxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBTY2VuZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmVcbiAgICAgICAgdGhpcy5zdGFydFggPSB4IC0gKHRoaXMuZmllbGRTaXplWCp0aGlzLmdlbVNpemUgLzIpIFxuICAgICAgICB0aGlzLnN0YXJ0WSA9IHkgLSAodGhpcy5maWVsZFNpemVZKnRoaXMuZ2VtU2l6ZSAvMikgXG5cbiAgICAgICAgLy8gRGlzcGxheSBTY29yZVxuICAgICAgICAvLyB0aGlzLnNjb3JlVGV4dCA9IHRoaXMuc2NlbmUuYWRkLnRleHQoIEdhbWVMaWIuc2NyZWVuV2lkdGgvMiwgdGhpcy5zdGFydFkgLSAzMCwgXCJTY29yZTogXCIgKyB0aGlzLnNjb3JlLCB7Zm9udFNpemU6NDAsY29sb3I6J2JsYWNrJ30gKS5zZXRPcmlnaW4oMC41KVxuXG4gICAgICAgIHRoaXMuZHJhd0ZpZWxkKCk7XG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQub24oXCJwb2ludGVyZG93blwiLCB0aGlzLmdlbVNlbGVjdCwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQub24oXCJwb2ludGVybW92ZVwiLCB0aGlzLnN0YXJ0U3dpcGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFwicG9pbnRlcnVwXCIsIHRoaXMuc3RvcFN3aXBlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkcmF3RmllbGQoKXtcbiAgICAgICAgdGhpcy5nYW1lQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5wb29sQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5pbnB1dEFycmF5ID0gW107XG4gICAgICAgIHRoaXMuZ2VtR3JvdXAgPSB0aGlzLnNjZW5lLmFkZC5ncm91cCgpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5maWVsZFNpemVZOyBpICsrKXtcbiAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldID0gW107XG4gICAgICAgICAgICB0aGlzLmlucHV0QXJyYXlbaV0gPSBbXTtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmZpZWxkU2l6ZVg7IGogKyspe1xuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IHRoaXMucmFuZG9tQ29sb3IoKVxuXG4gICAgICAgICAgICAgICAgbGV0IHggPSB0aGlzLnN0YXJ0WCArICh0aGlzLmdlbVNpemUgKiBqICsgdGhpcy5nZW1TaXplIC8gMilcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHRoaXMuc3RhcnRZICsgKHRoaXMuZ2VtU2l6ZSAqIGkgKyB0aGlzLmdlbVNpemUgLyAyKVxuICAgICAgICAgICAgICAgIGxldCBnZW0gPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUoIHggLCB5LCBjb2xvcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdlbUdyb3VwLmFkZChnZW0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRve1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZG9tQ29sb3IgPSB0aGlzLnJhbmRvbUNvbG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGdlbS5zZXRUZXh0dXJlKHJhbmRvbUNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lQXJyYXlbaV1bal0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW1Db2xvcjogcmFuZG9tQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW1TcHJpdGU6IGdlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRW1wdHk6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IHdoaWxlKHRoaXMuaXNNYXRjaChpLCBqKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc01hdGNoKHJvdzpudW1iZXIsIGNvbDpudW1iZXIpOiBib29sZWFue1xuICAgICAgICByZXR1cm4gdGhpcy5pc0hvcml6b250YWxNYXRjaChyb3csIGNvbCkgfHwgdGhpcy5pc1ZlcnRpY2FsTWF0Y2gocm93LCBjb2wpO1xuICAgIH1cblxuICAgIGlzSG9yaXpvbnRhbE1hdGNoKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcik6IGJvb2xlYW57XG4gICAgICAgIHJldHVybiB0aGlzLmdlbUF0KHJvdywgY29sKS5nZW1Db2xvciA9PSB0aGlzLmdlbUF0KHJvdywgY29sIC0gMSkuZ2VtQ29sb3IgJiYgdGhpcy5nZW1BdChyb3csIGNvbCkuZ2VtQ29sb3IgPT0gdGhpcy5nZW1BdChyb3csIGNvbCAtIDIpLmdlbUNvbG9yO1xuICAgIH1cblxuICAgIGlzVmVydGljYWxNYXRjaChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpOiBib29sZWFue1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VtQXQocm93LCBjb2wpLmdlbUNvbG9yID09IHRoaXMuZ2VtQXQocm93IC0gMSwgY29sKS5nZW1Db2xvciAmJiB0aGlzLmdlbUF0KHJvdywgY29sKS5nZW1Db2xvciA9PSB0aGlzLmdlbUF0KHJvdyAtIDIsIGNvbCkuZ2VtQ29sb3I7XG4gICAgfVxuICAgIFxuICAgIGdlbUF0KHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcik6IGFueXtcbiAgICAgICAgaWYocm93IDwgMCB8fCByb3cgPj0gdGhpcy5maWVsZFNpemVZIHx8IGNvbCA8IDAgfHwgY29sID49IHRoaXMuZmllbGRTaXplWCl7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZUFycmF5W3Jvd11bY29sXTtcbiAgICB9XG5cbiAgICBnZW1TZWxlY3QocG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXIpe1xuICAgICAgICBpZih0aGlzLmNhblBpY2spe1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICBsZXQgcm93ID0gTWF0aC5mbG9vciggKHBvaW50ZXIueSAtIHRoaXMuc3RhcnRZKSAvIHRoaXMuZ2VtU2l6ZSk7XG4gICAgICAgICAgICBsZXQgY29sID0gTWF0aC5mbG9vciggKHBvaW50ZXIueCAtIHRoaXMuc3RhcnRYKSAvIHRoaXMuZ2VtU2l6ZSk7XG4gICAgICAgICAgICBsZXQgcGlja2VkR2VtID0gdGhpcy5nZW1BdChyb3csIGNvbClcbiAgICAgICAgICAgIGlmKHBpY2tlZEdlbSAhPSAtMSl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZEdlbSA9PSBudWxsKXtcbiAgICAgICAgICAgICAgICAgICAgcGlja2VkR2VtLmdlbVNwcml0ZS5zZXRTY2FsZSgxLjIpO1xuICAgICAgICAgICAgICAgICAgICBwaWNrZWRHZW0uZ2VtU3ByaXRlLnNldERlcHRoKDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2VtID0gcGlja2VkR2VtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmFyZVRoZVNhbWUocGlja2VkR2VtLCB0aGlzLnNlbGVjdGVkR2VtKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2VtLmdlbVNwcml0ZS5zZXRTY2FsZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRHZW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmFyZU5leHQocGlja2VkR2VtLCB0aGlzLnNlbGVjdGVkR2VtKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdlbS5nZW1TcHJpdGUuc2V0U2NhbGUoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwR2Vtcyh0aGlzLnNlbGVjdGVkR2VtLCBwaWNrZWRHZW0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2VtLmdlbVNwcml0ZS5zZXRTY2FsZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNrZWRHZW0uZ2VtU3ByaXRlLnNldFNjYWxlKDEuMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdlbSA9IHBpY2tlZEdlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0U3dpcGUocG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXIpe1xuICAgICAgICBpZih0aGlzLmRyYWdnaW5nICYmIHRoaXMuc2VsZWN0ZWRHZW0gIT0gbnVsbCl7XG4gICAgICAgICAgICBsZXQgZGVsdGFYID0gcG9pbnRlci5kb3duWCAtIHBvaW50ZXIueDtcbiAgICAgICAgICAgIGxldCBkZWx0YVkgPSBwb2ludGVyLmRvd25ZIC0gcG9pbnRlci55O1xuICAgICAgICAgICAgbGV0IGRlbHRhUm93ID0gMDtcbiAgICAgICAgICAgIGxldCBkZWx0YUNvbCA9IDA7XG4gICAgICAgICAgICBpZihkZWx0YVggPiB0aGlzLmdlbVNpemUgLyAyICYmIE1hdGguYWJzKGRlbHRhWSkgPCB0aGlzLmdlbVNpemUgLyA0KXtcbiAgICAgICAgICAgICAgICBkZWx0YUNvbCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGVsdGFYIDwgLXRoaXMuZ2VtU2l6ZSAvIDIgJiYgTWF0aC5hYnMoZGVsdGFZKSA8IHRoaXMuZ2VtU2l6ZSAvIDQpe1xuICAgICAgICAgICAgICAgIGRlbHRhQ29sID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRlbHRhWSA+IHRoaXMuZ2VtU2l6ZSAvIDIgJiYgTWF0aC5hYnMoZGVsdGFYKSA8IHRoaXMuZ2VtU2l6ZSAvIDQpe1xuICAgICAgICAgICAgICAgIGRlbHRhUm93ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkZWx0YVkgPCAtdGhpcy5nZW1TaXplIC8gMiAmJiBNYXRoLmFicyhkZWx0YVgpIDwgdGhpcy5nZW1TaXplIC8gNCl7XG4gICAgICAgICAgICAgICAgZGVsdGFSb3cgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGVsdGFSb3cgKyBkZWx0YUNvbCAhPSAwKXtcbiAgICAgICAgICAgICAgICBsZXQgcGlja2VkR2VtID0gdGhpcy5nZW1BdCh0aGlzLmdldEdlbVJvdyh0aGlzLnNlbGVjdGVkR2VtKSArIGRlbHRhUm93LCB0aGlzLmdldEdlbUNvbCh0aGlzLnNlbGVjdGVkR2VtKSArIGRlbHRhQ29sKTtcbiAgICAgICAgICAgICAgICBpZihwaWNrZWRHZW0gIT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2VtLmdlbVNwcml0ZS5zZXRTY2FsZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwR2Vtcyh0aGlzLnNlbGVjdGVkR2VtLCBwaWNrZWRHZW0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RvcFN3aXBlKCl7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhcmVUaGVTYW1lKGdlbTE6IEdlbSwgZ2VtMjogR2VtKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2VtUm93KGdlbTEpID09IHRoaXMuZ2V0R2VtUm93KGdlbTIpICYmIHRoaXMuZ2V0R2VtQ29sKGdlbTEpID09IHRoaXMuZ2V0R2VtQ29sKGdlbTIpO1xuICAgIH1cblxuICAgIGdldEdlbVJvdyhnZW06IEdlbSl7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCAoZ2VtLmdlbVNwcml0ZS55IC0gdGhpcy5zdGFydFkpIC8gdGhpcy5nZW1TaXplKTtcbiAgICB9XG5cbiAgICBnZXRHZW1Db2woZ2VtOiBHZW0pe1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vciggKGdlbS5nZW1TcHJpdGUueCAtIHRoaXMuc3RhcnRYKSAvIHRoaXMuZ2VtU2l6ZSk7XG4gICAgfVxuXG4gICAgYXJlTmV4dChnZW0xOiBHZW0sIGdlbTI6IEdlbSl7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLmdldEdlbVJvdyhnZW0xKSAtIHRoaXMuZ2V0R2VtUm93KGdlbTIpKSArIE1hdGguYWJzKHRoaXMuZ2V0R2VtQ29sKGdlbTEpIC0gdGhpcy5nZXRHZW1Db2woZ2VtMikpID09IDE7XG4gICAgfVxuXG4gICAgc3dhcEdlbXMoZ2VtMTogR2VtLCBnZW0yOiBHZW0sIHN3YXBCYWNrOiBib29sZWFuKXtcbiAgICAgICAgdGhpcy5zd2FwcGluZ0dlbXMgPSAyO1xuICAgICAgICB0aGlzLmNhblBpY2sgPSBmYWxzZTtcbiAgICAgICAgbGV0IGZyb21Db2xvciA9IGdlbTEuZ2VtQ29sb3I7XG4gICAgICAgIGxldCBmcm9tU3ByaXRlID0gZ2VtMS5nZW1TcHJpdGU7XG4gICAgICAgIGxldCB0b0NvbG9yID0gZ2VtMi5nZW1Db2xvcjtcbiAgICAgICAgbGV0IHRvU3ByaXRlID0gZ2VtMi5nZW1TcHJpdGU7XG4gICAgICAgIGxldCBnZW0xUm93ID0gdGhpcy5nZXRHZW1Sb3coZ2VtMSk7XG4gICAgICAgIGxldCBnZW0xQ29sID0gdGhpcy5nZXRHZW1Db2woZ2VtMSk7XG4gICAgICAgIGxldCBnZW0yUm93ID0gdGhpcy5nZXRHZW1Sb3coZ2VtMik7XG4gICAgICAgIGxldCBnZW0yQ29sID0gdGhpcy5nZXRHZW1Db2woZ2VtMik7XG4gICAgICAgIHRoaXMuZ2FtZUFycmF5W2dlbTFSb3ddW2dlbTFDb2xdLmdlbUNvbG9yID0gdG9Db2xvcjtcbiAgICAgICAgdGhpcy5nYW1lQXJyYXlbZ2VtMVJvd11bZ2VtMUNvbF0uZ2VtU3ByaXRlID0gdG9TcHJpdGU7XG4gICAgICAgIHRoaXMuZ2FtZUFycmF5W2dlbTJSb3ddW2dlbTJDb2xdLmdlbUNvbG9yID0gZnJvbUNvbG9yO1xuICAgICAgICB0aGlzLmdhbWVBcnJheVtnZW0yUm93XVtnZW0yQ29sXS5nZW1TcHJpdGUgPSBmcm9tU3ByaXRlO1xuICAgICAgICB0aGlzLnR3ZWVuR2VtKGdlbTEsIGdlbTIsIHN3YXBCYWNrKTtcbiAgICAgICAgdGhpcy50d2VlbkdlbShnZW0yLCBnZW0xLCBzd2FwQmFjayk7XG4gICAgfVxuXG4gICAgdHdlZW5HZW0oZ2VtMTogR2VtLCBnZW0yOiBHZW0sIHN3YXBCYWNrOiBib29sZWFuKXtcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMuZ2V0R2VtUm93KGdlbTEpO1xuICAgICAgICBsZXQgY29sID0gdGhpcy5nZXRHZW1Db2woZ2VtMSk7XG4gICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmdhbWVBcnJheVtyb3ddW2NvbF0uZ2VtU3ByaXRlLFxuICAgICAgICAgICAgeDogdGhpcy5zdGFydFggKyAoY29sICogdGhpcy5nZW1TaXplICsgdGhpcy5nZW1TaXplIC8gMiksXG4gICAgICAgICAgICB5OiB0aGlzLnN0YXJ0WSArIChyb3cgKiB0aGlzLmdlbVNpemUgKyB0aGlzLmdlbVNpemUgLyAyKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLnN3YXBTcGVlZCxcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMuc3dhcHBpbmdHZW1zIC0tO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3dhcHBpbmdHZW1zID09IDApe1xuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5tYXRjaEluQm9hcmQoKSAmJiBzd2FwQmFjayl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXBHZW1zKGdlbTEsIGdlbTIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5tYXRjaEluQm9hcmQoKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNYXRjaGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuUGljayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1hdGNoSW5Cb2FyZCgpe1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5maWVsZFNpemVZOyBpICsrKXtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmZpZWxkU2l6ZVg7IGogKyspe1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNNYXRjaChpLCBqKSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaGFuZGxlTWF0Y2hlcygpe1xuICAgICAgICB0aGlzLnJlbW92ZU1hcCA9IFtdO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5maWVsZFNpemVZOyBpICsrKXtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTWFwW2ldID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy5maWVsZFNpemVYOyBqICsrKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1hcFtpXS5wdXNoKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFya01hdGNoZXMoJ2hvcml6b250YWwnKTtcbiAgICAgICAgdGhpcy5tYXJrTWF0Y2hlcygndmVydGljYWwnKTtcbiAgICAgICAgdGhpcy5kZXN0cm95R2VtcygpO1xuICAgIH1cblxuICAgIG1hcmtNYXRjaGVzKGRpcmVjdGlvbjogc3RyaW5nKXtcbiAgICAgICAgbGV0IGlNYXggPSBkaXJlY3Rpb24gPT0gJ2hvcml6b250YWwnPyB0aGlzLmZpZWxkU2l6ZVk6dGhpcy5maWVsZFNpemVYXG4gICAgICAgIGxldCBqTWF4ID0gZGlyZWN0aW9uID09ICdob3Jpem9udGFsJz8gdGhpcy5maWVsZFNpemVYOnRoaXMuZmllbGRTaXplWVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaU1heDsgaSArKyl7XG4gICAgICAgICAgICBsZXQgY29sb3JTdHJlYWsgPSAxO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRDb2xvciA9IC0xO1xuICAgICAgICAgICAgbGV0IHN0YXJ0U3RyZWFrID0gMDtcbiAgICAgICAgICAgIGxldCBjb2xvclRvV2F0Y2ggPSAwO1xuICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGpNYXg7IGogKyspe1xuICAgICAgICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PSAnaG9yaXpvbnRhbCcpe1xuICAgICAgICAgICAgICAgICAgICBjb2xvclRvV2F0Y2ggPSB0aGlzLmdlbUF0KGksIGopLmdlbUNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBjb2xvclRvV2F0Y2ggPSB0aGlzLmdlbUF0KGosIGkpLmdlbUNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihjb2xvclRvV2F0Y2ggPT0gY3VycmVudENvbG9yKXtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JTdHJlYWsgKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGNvbG9yVG9XYXRjaCAhPSBjdXJyZW50Q29sb3IgfHwgaiA9PSBqTWF4IC0gMSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvbG9yU3RyZWFrID49IDMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGlyZWN0aW9uID09ICdob3Jpem9udGFsJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJIT1JJWk9OVEFMIDo6IExlbmd0aCA9IFwiICsgY29sb3JTdHJlYWsgKyBcIiA6OiBTdGFydCA9IChcIiArIGkgKyBcIixcIiArIHN0YXJ0U3RyZWFrICsgXCIpIDo6IENvbG9yID0gXCIgKyBjdXJyZW50Q29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlZFUlRJQ0FMIDo6IExlbmd0aCA9IFwiICsgY29sb3JTdHJlYWsgKyBcIiA6OiBTdGFydCA9IChcIiArIHN0YXJ0U3RyZWFrICsgXCIsXCIgKyBpICsgXCIpIDo6IENvbG9yID0gXCIgKyBjdXJyZW50Q29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBrID0gMDsgayA8IGNvbG9yU3RyZWFrOyBrICsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkaXJlY3Rpb24gPT0gJ2hvcml6b250YWwnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXBbaV1bc3RhcnRTdHJlYWsgKyBrXSArKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXBbc3RhcnRTdHJlYWsgKyBrXVtpXSArKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRTdHJlYWsgPSBqO1xuICAgICAgICAgICAgICAgICAgICBjb2xvclN0cmVhayA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xvciA9IGNvbG9yVG9XYXRjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95R2Vtcygpe1xuICAgICAgICBsZXQgZGVzdHJveWVkID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZmllbGRTaXplWTsgaSArKyl7XG4gICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy5maWVsZFNpemVYOyBqICsrKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnJlbW92ZU1hcFtpXVtqXSA+IDApe1xuICAgICAgICAgICAgICAgICAgICBkZXN0cm95ZWQgKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmdhbWVBcnJheVtpXVtqXS5nZW1TcHJpdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZGVzdHJveVNwZWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveWVkIC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb29sQXJyYXkucHVzaCh0aGlzLmdhbWVBcnJheVtpXVtqXS5nZW1TcHJpdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU2NvcmUoMSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRlc3Ryb3llZCA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWtlR2Vtc0ZhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBsZW5pc2hGaWVsZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmlzRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1ha2VHZW1zRmFsbCgpe1xuICAgICAgICBmb3IobGV0IGkgPSB0aGlzLmZpZWxkU2l6ZVkgLSAyOyBpID49IDA7IGkgLS0pe1xuICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMuZmllbGRTaXplWDsgaiArKyl7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuZ2FtZUFycmF5W2ldW2pdLmlzRW1wdHkpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmFsbFRpbGVzID0gdGhpcy5ob2xlc0JlbG93KGksIGopO1xuICAgICAgICAgICAgICAgICAgICBpZihmYWxsVGlsZXMgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5nYW1lQXJyYXlbaV1bal0uZ2VtU3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZS55ICsgZmFsbFRpbGVzICogdGhpcy5nZW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmZhbGxTcGVlZCAqIGZhbGxUaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVBcnJheVtpICsgZmFsbFRpbGVzXVtqXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW1TcHJpdGU6IHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW1Db2xvcjogdGhpcy5nYW1lQXJyYXlbaV1bal0uZ2VtQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmlzRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9sZXNCZWxvdyhyb3c6IG51bWJlciwgY29sOiBudW1iZXIpe1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gcm93ICsgMTsgaSA8IHRoaXMuZmllbGRTaXplWTsgaSArKyl7XG4gICAgICAgICAgICBpZih0aGlzLmdhbWVBcnJheVtpXVtjb2xdLmlzRW1wdHkpe1xuICAgICAgICAgICAgICAgIHJlc3VsdCArKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlcGxlbmlzaEZpZWxkKCl7XG4gICAgICAgIGxldCByZXBsZW5pc2hlZCA9IDA7XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmZpZWxkU2l6ZVg7IGogKyspe1xuICAgICAgICAgICAgbGV0IGVtcHR5U3BvdHMgPSB0aGlzLmhvbGVzSW5Db2woaik7XG4gICAgICAgICAgICBpZihlbXB0eVNwb3RzID4gMCl7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGVtcHR5U3BvdHM7IGkgKyspe1xuICAgICAgICAgICAgICAgICAgICByZXBsZW5pc2hlZCArKztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmRvbUNvbG9yID0gdGhpcy5yYW5kb21Db2xvcigpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbUNvbG9yID0gcmFuZG9tQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZSA9IHRoaXMucG9vbEFycmF5LnBvcCgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZS5zZXRUZXh0dXJlKHJhbmRvbUNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lQXJyYXlbaV1bal0uZ2VtU3ByaXRlLnZpc2libGUgPSB0aGlzLmlzU2hvdz90cnVlOmZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVBcnJheVtpXVtqXS5nZW1TcHJpdGUueCA9IHRoaXMuc3RhcnRYICsgKHRoaXMuZ2VtU2l6ZSAqIGogKyB0aGlzLmdlbVNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lQXJyYXlbaV1bal0uZ2VtU3ByaXRlLnkgPSB0aGlzLnN0YXJ0WSArICh0aGlzLmdlbVNpemUgLyAyIC0gKGVtcHR5U3BvdHMgLSBpKSAqIHRoaXMuZ2VtU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZS5hbHBoYSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUFycmF5W2ldW2pdLmlzRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuZ2FtZUFycmF5W2ldW2pdLmdlbVNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuc3RhcnRZICsgKHRoaXMuZ2VtU2l6ZSAqIGkgKyB0aGlzLmdlbVNpemUgLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZmFsbFNwZWVkICogZW1wdHlTcG90cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxlbmlzaGVkIC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcGxlbmlzaGVkID09IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLm1hdGNoSW5Cb2FyZCgpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDI1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogdGhpcy5oYW5kbGVNYXRjaGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhblBpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvbGVzSW5Db2woY29sOiBudW1iZXIpe1xuICAgICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZmllbGRTaXplWTsgaSArKyl7XG4gICAgICAgICAgICBpZih0aGlzLmdhbWVBcnJheVtpXVtjb2xdLmlzRW1wdHkpe1xuICAgICAgICAgICAgICAgIHJlc3VsdCArKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJhbmRvbUNvbG9yKCk6c3RyaW5ne1xuICAgICAgICByZXR1cm4gdGhpcy5nZW1Db2xvcnNbUGhhc2VyLk1hdGguQmV0d2VlbigwLCB0aGlzLmdlbUNvbG9ycy5sZW5ndGggLSAxKV07XG4gICAgfVxuXG4gICAgYWRkU2NvcmUodmFsdWU6bnVtYmVyKXtcbiAgICAgICAgdGhpcy5zY29yZSArPSB2YWx1ZVxuXG4gICAgICAgIGlmKCB0aGlzLnNjb3JlVGV4dClcbiAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0LnNldFRleHQoXCJTY29yZTogXCIgKyB0aGlzLnNjb3JlIClcblxuICAgICAgICBpZiggdGhpcy5jYWxsYmFja1Njb3JlICYmIHRoaXMuaXNTaG93ICkgXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrU2NvcmUodmFsdWUpXG4gICAgfVxuXG4gICAgc2hvdygpe1xuICAgICAgICB0aGlzLmdlbUdyb3VwLnNldFZpc2libGUodHJ1ZSlcbiAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlXG4gICAgfVxuXG4gICAgaGlkZSgpe1xuICAgICAgICB0aGlzLmdlbUdyb3VwLnNldFZpc2libGUoZmFsc2UpXG4gICAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2VcbiAgICB9XG59Il0sIm5hbWVzIjpbIkdlbSIsIk1hdGNoIiwiZHJhd0ZpZWxkIiwiZ2FtZUFycmF5IiwicG9vbEFycmF5IiwiaW5wdXRBcnJheSIsImdlbUdyb3VwIiwic2NlbmUiLCJhZGQiLCJncm91cCIsImkiLCJmaWVsZFNpemVZIiwiaiIsImZpZWxkU2l6ZVgiLCJjb2xvciIsInJhbmRvbUNvbG9yIiwieCIsInN0YXJ0WCIsImdlbVNpemUiLCJ5Iiwic3RhcnRZIiwiZ2VtIiwic3ByaXRlIiwic2V0VGV4dHVyZSIsImdlbUNvbG9yIiwiZ2VtU3ByaXRlIiwiaXNFbXB0eSIsImlzTWF0Y2giLCJyb3ciLCJjb2wiLCJpc0hvcml6b250YWxNYXRjaCIsImlzVmVydGljYWxNYXRjaCIsImdlbUF0IiwiZ2VtU2VsZWN0IiwicG9pbnRlciIsImNhblBpY2siLCJkcmFnZ2luZyIsIk1hdGgiLCJmbG9vciIsInBpY2tlZEdlbSIsInNlbGVjdGVkR2VtIiwic2V0U2NhbGUiLCJzZXREZXB0aCIsImFyZVRoZVNhbWUiLCJhcmVOZXh0Iiwic3dhcEdlbXMiLCJzdGFydFN3aXBlIiwiZGVsdGFYIiwiZG93blgiLCJkZWx0YVkiLCJkb3duWSIsImRlbHRhUm93IiwiZGVsdGFDb2wiLCJhYnMiLCJnZXRHZW1Sb3ciLCJnZXRHZW1Db2wiLCJzdG9wU3dpcGUiLCJnZW0xIiwiZ2VtMiIsInN3YXBCYWNrIiwic3dhcHBpbmdHZW1zIiwiZnJvbUNvbG9yIiwiZnJvbVNwcml0ZSIsInRvQ29sb3IiLCJ0b1Nwcml0ZSIsImdlbTFSb3ciLCJnZW0xQ29sIiwiZ2VtMlJvdyIsImdlbTJDb2wiLCJ0d2VlbkdlbSIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsInN3YXBTcGVlZCIsImNhbGxiYWNrU2NvcGUiLCJvbkNvbXBsZXRlIiwibWF0Y2hJbkJvYXJkIiwiaGFuZGxlTWF0Y2hlcyIsInJlbW92ZU1hcCIsInB1c2giLCJtYXJrTWF0Y2hlcyIsImRlc3Ryb3lHZW1zIiwiZGlyZWN0aW9uIiwiaU1heCIsImpNYXgiLCJjb2xvclN0cmVhayIsImN1cnJlbnRDb2xvciIsInN0YXJ0U3RyZWFrIiwiY29sb3JUb1dhdGNoIiwiayIsImRlc3Ryb3llZCIsImFscGhhIiwiZGVzdHJveVNwZWVkIiwidmlzaWJsZSIsImFkZFNjb3JlIiwibWFrZUdlbXNGYWxsIiwicmVwbGVuaXNoRmllbGQiLCJmYWxsVGlsZXMiLCJob2xlc0JlbG93IiwiZmFsbFNwZWVkIiwicmVzdWx0IiwicmVwbGVuaXNoZWQiLCJlbXB0eVNwb3RzIiwiaG9sZXNJbkNvbCIsInBvcCIsImlzU2hvdyIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwiY2FsbGJhY2siLCJnZW1Db2xvcnMiLCJQaGFzZXIiLCJCZXR3ZWVuIiwibGVuZ3RoIiwidmFsdWUiLCJzY29yZSIsInNjb3JlVGV4dCIsInNldFRleHQiLCJjYWxsYmFja1Njb3JlIiwic2hvdyIsInNldFZpc2libGUiLCJoaWRlIiwiY29uc3RydWN0b3IiLCJmaWVsZFNpemUiLCJpbnB1dCIsIm9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/components/Match.ts\n"));

/***/ }),

/***/ "./src/game/components/Opponent.ts":
/*!*****************************************!*\
  !*** ./src/game/components/Opponent.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Opponent; }\n/* harmony export */ });\n/* harmony import */ var _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/GameLib */ \"./src/lib/GameLib.ts\");\n/* harmony import */ var _HealthBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HealthBar */ \"./src/game/components/HealthBar.ts\");\n\n\nclass Opponent {\n    renderHealth() {\n        this.healthBar.renderHealth(this.currentHp, this.maxHp);\n    }\n    damage(value) {\n        let newHp = this.currentHp - value;\n        if (newHp >= 0 && newHp <= this.maxHp) {\n            this.currentHp = newHp;\n        } else if (newHp < 0) {\n            this.currentHp = 0;\n        } else if (newHp > this.maxHp) {\n            this.currentHp = this.maxHp;\n        }\n        console.log(this.currentHp);\n        this.renderHealth();\n        this.scene.events.emit(\"opponent-update\");\n    }\n    constructor(scene, card){\n        this.maxHp = 2;\n        this.scene = scene;\n        this.card = card;\n        this.currentHp = this.maxHp;\n        // Render Opponent\n        this.avatar = this.scene.add.sprite(_lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].centerX(), 200, card.spriteKey);\n        // Render Health\n        this.healthBar = new _HealthBar__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.scene, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].centerX(), 350);\n        this.healthBar.container.scale = 0.8;\n        this.renderHealth();\n    }\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9jb21wb25lbnRzL09wcG9uZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUdBO0FBRXBCLE1BQU1FO0lBMEJqQkMsZUFBYztRQUNWLElBQUksQ0FBQ0MsU0FBUyxDQUFDRCxZQUFZLENBQUMsSUFBSSxDQUFDRSxTQUFTLEVBQUMsSUFBSSxDQUFDQyxLQUFLO0lBQ3pEO0lBRUFDLE9BQU9DLEtBQVksRUFBQztRQUNoQixJQUFJQyxRQUFRLElBQUksQ0FBQ0osU0FBUyxHQUFHRztRQUM3QixJQUFJQyxTQUFTLEtBQUtBLFNBQVMsSUFBSSxDQUFDSCxLQUFLLEVBQUU7WUFDbkMsSUFBSSxDQUFDRCxTQUFTLEdBQUdJO1FBQ3JCLE9BQU0sSUFBSUEsUUFBUSxHQUFHO1lBQ2pCLElBQUksQ0FBQ0osU0FBUyxHQUFHO1FBQ3JCLE9BQU0sSUFBSUksUUFBUSxJQUFJLENBQUNILEtBQUssRUFBRTtZQUMxQixJQUFJLENBQUNELFNBQVMsR0FBRyxJQUFJLENBQUNDLEtBQUs7UUFDL0I7UUFDQUksUUFBUUMsR0FBRyxDQUFDLElBQUksQ0FBQ04sU0FBUztRQUMxQixJQUFJLENBQUNGLFlBQVk7UUFFakIsSUFBSSxDQUFDUyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDO0lBQzNCO0lBaENBQyxZQUFhSCxLQUFXLEVBQUVJLElBQVcsQ0FBRTthQUx2Q1YsUUFBZ0I7UUFNWixJQUFJLENBQUNNLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNJLElBQUksR0FBR0E7UUFFWixJQUFJLENBQUNYLFNBQVMsR0FBRyxJQUFJLENBQUNDLEtBQUs7UUFFM0Isa0JBQWtCO1FBQ2xCLElBQUksQ0FBQ1csTUFBTSxHQUFHLElBQUksQ0FBQ0wsS0FBSyxDQUFDTSxHQUFHLENBQUNDLE1BQU0sQ0FBRW5CLDREQUFlLElBQUksS0FBS2dCLEtBQUtLLFNBQVM7UUFFM0UsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ2pCLFNBQVMsR0FBRyxJQUFJSCxrREFBU0EsQ0FBQyxJQUFJLENBQUNXLEtBQUssRUFBRVosNERBQWUsSUFBSTtRQUM5RCxJQUFJLENBQUNJLFNBQVMsQ0FBQ2tCLFNBQVMsQ0FBQ0MsS0FBSyxHQUFHO1FBQ2pDLElBQUksQ0FBQ3BCLFlBQVk7SUFDckI7QUFvQko7QUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvZ2FtZS9jb21wb25lbnRzL09wcG9uZW50LnRzP2M3NDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVMaWIgZnJvbSBcIkAvbGliL0dhbWVMaWJcIlxuaW1wb3J0IHsgR2FtZU9iamVjdHMsIFNjZW5lIH0gZnJvbSBcInBoYXNlclwiXG5pbXBvcnQgeyBBQ2FyZCB9IGZyb20gXCIuL0NhcmRSZXBvXCJcbmltcG9ydCBIZWFsdGhCYXIgZnJvbSBcIi4vSGVhbHRoQmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3Bwb25lbnR7XG5cbiAgICBzY2VuZTogU2NlbmVcbiAgICBjYXJkOiBBQ2FyZFxuICAgIC8vXG4gICAgYXZhdGFyOiBHYW1lT2JqZWN0cy5TcHJpdGVcbiAgICBtYXhIcDogbnVtYmVyID0gMlxuICAgIGN1cnJlbnRIcDogbnVtYmVyXG4gICAgLy9cbiAgICBoZWFsdGhCYXI6IEhlYWx0aEJhclxuICAgIFxuICAgIGNvbnN0cnVjdG9yKCBzY2VuZTpTY2VuZSwgY2FyZDogQUNhcmQgKXtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lXG4gICAgICAgIHRoaXMuY2FyZCA9IGNhcmRcblxuICAgICAgICB0aGlzLmN1cnJlbnRIcCA9IHRoaXMubWF4SHBcblxuICAgICAgICAvLyBSZW5kZXIgT3Bwb25lbnRcbiAgICAgICAgdGhpcy5hdmF0YXIgPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUoIEdhbWVMaWIuY2VudGVyWCgpLCAyMDAsIGNhcmQuc3ByaXRlS2V5IClcblxuICAgICAgICAvLyBSZW5kZXIgSGVhbHRoXG4gICAgICAgIHRoaXMuaGVhbHRoQmFyID0gbmV3IEhlYWx0aEJhcih0aGlzLnNjZW5lLCBHYW1lTGliLmNlbnRlclgoKSwgMzUwKVxuICAgICAgICB0aGlzLmhlYWx0aEJhci5jb250YWluZXIuc2NhbGUgPSAwLjhcbiAgICAgICAgdGhpcy5yZW5kZXJIZWFsdGgoKVxuICAgIH1cblxuICAgIHJlbmRlckhlYWx0aCgpe1xuICAgICAgICB0aGlzLmhlYWx0aEJhci5yZW5kZXJIZWFsdGgodGhpcy5jdXJyZW50SHAsdGhpcy5tYXhIcClcbiAgICB9XG5cbiAgICBkYW1hZ2UodmFsdWU6bnVtYmVyKXtcbiAgICAgICAgbGV0IG5ld0hwID0gdGhpcy5jdXJyZW50SHAgLSB2YWx1ZVxuICAgICAgICBpZiggbmV3SHAgPj0gMCAmJiBuZXdIcCA8PSB0aGlzLm1heEhwICl7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIcCA9IG5ld0hwO1xuICAgICAgICB9ZWxzZSBpZiggbmV3SHAgPCAwICl7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIcCA9IDBcbiAgICAgICAgfWVsc2UgaWYoIG5ld0hwID4gdGhpcy5tYXhIcCApe1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SHAgPSB0aGlzLm1heEhwXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50SHApXG4gICAgICAgIHRoaXMucmVuZGVySGVhbHRoKClcblxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCdvcHBvbmVudC11cGRhdGUnKVxuICAgIH1cbn0iXSwibmFtZXMiOlsiR2FtZUxpYiIsIkhlYWx0aEJhciIsIk9wcG9uZW50IiwicmVuZGVySGVhbHRoIiwiaGVhbHRoQmFyIiwiY3VycmVudEhwIiwibWF4SHAiLCJkYW1hZ2UiLCJ2YWx1ZSIsIm5ld0hwIiwiY29uc29sZSIsImxvZyIsInNjZW5lIiwiZXZlbnRzIiwiZW1pdCIsImNvbnN0cnVjdG9yIiwiY2FyZCIsImF2YXRhciIsImFkZCIsInNwcml0ZSIsImNlbnRlclgiLCJzcHJpdGVLZXkiLCJjb250YWluZXIiLCJzY2FsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/game/components/Opponent.ts\n"));

/***/ }),

/***/ "./src/game/main.ts":
/*!**************************!*\
  !*** ./src/game/main.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scenes_Boot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scenes/Boot */ \"./src/game/scenes/Boot.ts\");\n/* harmony import */ var _scenes_GameOver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scenes/GameOver */ \"./src/game/scenes/GameOver.ts\");\n/* harmony import */ var _scenes_Game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scenes/Game */ \"./src/game/scenes/Game.ts\");\n/* harmony import */ var _scenes_MainMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scenes/MainMenu */ \"./src/game/scenes/MainMenu.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! phaser */ \"./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _scenes_Preloader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scenes/Preloader */ \"./src/game/scenes/Preloader.ts\");\n/* harmony import */ var _scenes_Battle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scenes/Battle */ \"./src/game/scenes/Battle.ts\");\n\n\n\n\n\n\n\n//  Find out more information about the Game Config at:\n//  https://newdocs.phaser.io/docs/3.70.0/Phaser.Types.Core.GameConfig\nconst config = {\n    type: phaser__WEBPACK_IMPORTED_MODULE_4__.AUTO,\n    width: 1080,\n    height: 1920,\n    parent: \"game-container\",\n    backgroundColor: 0x3a404d,\n    scene: [\n        _scenes_Boot__WEBPACK_IMPORTED_MODULE_0__.Boot,\n        _scenes_Preloader__WEBPACK_IMPORTED_MODULE_5__.Preloader,\n        _scenes_MainMenu__WEBPACK_IMPORTED_MODULE_3__.MainMenu,\n        _scenes_Game__WEBPACK_IMPORTED_MODULE_2__.Game,\n        _scenes_Battle__WEBPACK_IMPORTED_MODULE_6__.Battle,\n        _scenes_GameOver__WEBPACK_IMPORTED_MODULE_1__.GameOver\n    ],\n    scale: {\n        mode: Phaser.Scale.FIT,\n        autoCenter: Phaser.Scale.CENTER_BOTH\n    }\n};\nconst StartGame = (parent)=>{\n    return new phaser__WEBPACK_IMPORTED_MODULE_4__.Game({\n        ...config,\n        parent\n    });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (StartGame);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9tYWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxQztBQUNRO0FBQ0k7QUFDSjtBQUNUO0FBQ1c7QUFDTjtBQUV6Qyx1REFBdUQ7QUFDdkQsc0VBQXNFO0FBQ3RFLE1BQU1RLFNBQXVDO0lBQ3pDQyxNQUFNSix3Q0FBSUE7SUFDVkssT0FBTztJQUNQQyxRQUFRO0lBQ1JDLFFBQVE7SUFDUkMsaUJBQWlCO0lBQ2pCQyxPQUFPO1FBQ0hkLDhDQUFJQTtRQUNKTSx3REFBU0E7UUFDVEYsc0RBQVFBO1FBQ1JELDhDQUFRQTtRQUNSSSxrREFBTUE7UUFDTk4sc0RBQVFBO0tBQ1g7SUFDRGMsT0FBTTtRQUNGQyxNQUFNQyxPQUFPQyxLQUFLLENBQUNDLEdBQUc7UUFDdEJDLFlBQVlILE9BQU9DLEtBQUssQ0FBQ0csV0FBVztJQUN4QztBQUNKO0FBRUEsTUFBTUMsWUFBWSxDQUFDVjtJQUVmLE9BQU8sSUFBSVYsd0NBQUlBLENBQUM7UUFBRSxHQUFHTSxNQUFNO1FBQUVJO0lBQU87QUFFeEM7QUFFQSwrREFBZVUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvZ2FtZS9tYWluLnRzPzUwNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9vdCB9IGZyb20gJy4vc2NlbmVzL0Jvb3QnO1xuaW1wb3J0IHsgR2FtZU92ZXIgfSBmcm9tICcuL3NjZW5lcy9HYW1lT3Zlcic7XG5pbXBvcnQgeyBHYW1lIGFzIE1haW5HYW1lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZSc7XG5pbXBvcnQgeyBNYWluTWVudSB9IGZyb20gJy4vc2NlbmVzL01haW5NZW51JztcbmltcG9ydCB7IEFVVE8sIEdhbWUgfSBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgUHJlbG9hZGVyIH0gZnJvbSAnLi9zY2VuZXMvUHJlbG9hZGVyJztcbmltcG9ydCB7IEJhdHRsZSB9IGZyb20gJy4vc2NlbmVzL0JhdHRsZSc7XG5cbi8vICBGaW5kIG91dCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBHYW1lIENvbmZpZyBhdDpcbi8vICBodHRwczovL25ld2RvY3MucGhhc2VyLmlvL2RvY3MvMy43MC4wL1BoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWdcbmNvbnN0IGNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcbiAgICB0eXBlOiBBVVRPLFxuICAgIHdpZHRoOiAxMDgwLFxuICAgIGhlaWdodDogMTkyMCxcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXG4gICAgYmFja2dyb3VuZENvbG9yOiAweDNhNDA0ZCxcbiAgICBzY2VuZTogW1xuICAgICAgICBCb290LFxuICAgICAgICBQcmVsb2FkZXIsXG4gICAgICAgIE1haW5NZW51LFxuICAgICAgICBNYWluR2FtZSxcbiAgICAgICAgQmF0dGxlLFxuICAgICAgICBHYW1lT3ZlcixcbiAgICBdLFxuICAgIHNjYWxlOntcbiAgICAgICAgbW9kZTogUGhhc2VyLlNjYWxlLkZJVCxcbiAgICAgICAgYXV0b0NlbnRlcjogUGhhc2VyLlNjYWxlLkNFTlRFUl9CT1RIXG4gICAgfVxufTtcblxuY29uc3QgU3RhcnRHYW1lID0gKHBhcmVudDogc3RyaW5nKSA9PiB7XG5cbiAgICByZXR1cm4gbmV3IEdhbWUoeyAuLi5jb25maWcsIHBhcmVudCB9KTtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGFydEdhbWU7XG4iXSwibmFtZXMiOlsiQm9vdCIsIkdhbWVPdmVyIiwiR2FtZSIsIk1haW5HYW1lIiwiTWFpbk1lbnUiLCJBVVRPIiwiUHJlbG9hZGVyIiwiQmF0dGxlIiwiY29uZmlnIiwidHlwZSIsIndpZHRoIiwiaGVpZ2h0IiwicGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwic2NlbmUiLCJzY2FsZSIsIm1vZGUiLCJQaGFzZXIiLCJTY2FsZSIsIkZJVCIsImF1dG9DZW50ZXIiLCJDRU5URVJfQk9USCIsIlN0YXJ0R2FtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/game/main.ts\n"));

/***/ }),

/***/ "./src/game/scenes/Battle.ts":
/*!***********************************!*\
  !*** ./src/game/scenes/Battle.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Battle: function() { return /* binding */ Battle; }\n/* harmony export */ });\n/* harmony import */ var _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/GameLib */ \"./src/lib/GameLib.ts\");\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! phaser */ \"./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_GameManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/GameManager */ \"./src/game/components/GameManager.ts\");\n/* harmony import */ var _lib_components_DebugButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/components/DebugButton */ \"./src/lib/components/DebugButton.ts\");\n/* harmony import */ var _components_CardRepo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/CardRepo */ \"./src/game/components/CardRepo.ts\");\n/* harmony import */ var _components_Opponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Opponent */ \"./src/game/components/Opponent.ts\");\n/* harmony import */ var _components_HealthBar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/HealthBar */ \"./src/game/components/HealthBar.ts\");\n/* harmony import */ var _components_Match__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Match */ \"./src/game/components/Match.ts\");\n/* harmony import */ var _components_PlayerAttackBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/PlayerAttackBar */ \"./src/game/components/PlayerAttackBar.ts\");\n\n\n\n\n\n\n\n\n\n\nclass Battle extends phaser__WEBPACK_IMPORTED_MODULE_2__.Scene {\n    create(data) {\n        // Reset Data\n        this.isDone = false;\n        this.camera = this.cameras.main;\n        this.camera.setBackgroundColor(0xe6e6e6);\n        this.gameManager = new _components_GameManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this);\n        this.gameManager.loadData();\n        // Get Opponent Data\n        let cardKey = this.gameManager.getCardKey(this.gameManager.battleSlotNumber);\n        let card = _components_CardRepo__WEBPACK_IMPORTED_MODULE_5__.CardRepo.findCard(cardKey);\n        if (card == undefined) {\n            console.log(\"Unable to find Card Data\");\n            this.simulateWin();\n            return;\n        }\n        // Render Opponent Sprite\n        this.opponent = new _components_Opponent__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this, card);\n        // Render Player\n        this.player = this.add.sprite(_lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenWidth / 2, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight - 200, \"player\");\n        this.playerHealthBar = new _components_HealthBar__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenWidth / 2, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight - 350);\n        this.renderHealth();\n        // Render Match\n        this.match = new _components_Match__WEBPACK_IMPORTED_MODULE_8__[\"default\"](this, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenWidth / 2, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight / 2 - 50);\n        this.match.callbackScore = (value)=>{\n            this.playerAttackBar.addValue(value);\n        };\n        // Render Attack Bar\n        this.playerAttackBar = new _components_PlayerAttackBar__WEBPACK_IMPORTED_MODULE_9__[\"default\"](this, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenWidth / 2, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight - 450, 20);\n        this.playerAttackBar.callbackBulbButton = ()=>{\n            this.playerAttackBar.hideBulbButton();\n            this.playerAttack();\n        };\n        this.events.addListener(\"player-update\", ()=>{\n            this.renderHealth();\n            this.checkWinLoseCondition();\n        });\n        this.events.addListener(\"opponent-update\", ()=>{\n            this.checkWinLoseCondition();\n        });\n        this.events.addListener(\"player-attack\", ()=>{\n            // Stop Opponent Bar\n            // Stop & Hide Matching\n            this.match.hide();\n            // Show Attack Button\n            this.playerAttackBar.showBulbButton();\n        });\n        this.events.addListener(\"opponent-attack\", ()=>{\n        // Stop Opponent Bar\n        // Stop Matching\n        });\n        this.events.addListener(\"continue\", ()=>{\n            if (!this.isDone) {\n                // Stop Opponent Bar\n                // Start Matching\n                this.match.show();\n            }\n        });\n        // Debug\n        let debugWin = new _lib_components_DebugButton__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, 150, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight - 100, \"Set Win\");\n        debugWin.scale = 0.5;\n        this.add.existing(debugWin);\n        debugWin.onPressed(()=>{\n            this.simulateWin();\n        });\n        let debugLose = new _lib_components_DebugButton__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, 150, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight - 200, \"Set Lose\");\n        debugLose.scale = 0.5;\n        this.add.existing(debugLose);\n        debugLose.onPressed(()=>{\n            this.simulateLose();\n        });\n        let debugAttack = new _lib_components_DebugButton__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenWidth - 150, _lib_GameLib__WEBPACK_IMPORTED_MODULE_0__[\"default\"].screenHeight - 200, \"Attack\");\n        debugAttack.scale = 0.5;\n        this.add.existing(debugAttack);\n        debugAttack.onPressed(()=>{\n            this.playerAttack();\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"current-scene-ready\", this);\n    }\n    renderHealth() {\n        this.playerHealthBar.renderHealth(this.gameManager.currentHp, this.gameManager.maxHp);\n    }\n    playerAttack() {\n        this.opponent.damage(1);\n        //\n        this.time.delayedCall(1500, ()=>{\n            this.events.emit(\"continue\");\n        }, [], this);\n    }\n    simulateWin() {\n        this.processWin();\n    }\n    simulateLose() {\n        this.gameManager.damage();\n        this.gameManager.damage();\n        this.gameManager.damage();\n    }\n    checkWinLoseCondition() {\n        if (!this.isDone) {\n            if (this.gameManager.currentHp <= 0) {\n                this.processLose();\n            }\n            if (this.opponent.currentHp <= 0) {\n                this.processWin();\n            }\n        }\n    }\n    processWin() {\n        this.isDone = true;\n        this.time.delayedCall(1000, ()=>{}, [], this);\n    }\n    processLose() {\n        this.isDone = true;\n        this.time.delayedCall(1000, ()=>{}, [], this);\n    }\n    clean() {\n        this.events.removeListener(\"player-update\");\n        this.events.removeListener(\"opponent-update\");\n        this.events.removeListener(\"player-attack\");\n        this.events.removeListener(\"opponent-attack\");\n        this.events.removeListener(\"continue\");\n        this.events.removeListener(\"battle-end\");\n        this.cameras.resetAll();\n    }\n    constructor(){\n        super(\"Battle\");\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9zY2VuZXMvQmF0dGxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFvQztBQUNHO0FBQ1c7QUFFRTtBQUNHO0FBQ0U7QUFDWDtBQUNFO0FBRVI7QUFDb0I7QUFFckQsTUFBTVUsZUFBZVIseUNBQUtBO0lBc0I3QlMsT0FBU0MsSUFBUyxFQUNsQjtRQUNJLGFBQWE7UUFDYixJQUFJLENBQUNDLE1BQU0sR0FBRztRQUVkLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJO1FBQy9CLElBQUksQ0FBQ0YsTUFBTSxDQUFDRyxrQkFBa0IsQ0FBQztRQUUvQixJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJZiwrREFBV0EsQ0FBQyxJQUFJO1FBQ3ZDLElBQUksQ0FBQ2UsV0FBVyxDQUFDQyxRQUFRO1FBRXpCLG9CQUFvQjtRQUNwQixJQUFJQyxVQUFVLElBQUksQ0FBQ0YsV0FBVyxDQUFDRyxVQUFVLENBQUUsSUFBSSxDQUFDSCxXQUFXLENBQUNJLGdCQUFnQjtRQUM1RSxJQUFJQyxPQUF1QmxCLDBEQUFRQSxDQUFDbUIsUUFBUSxDQUFDSjtRQUM3QyxJQUFJRyxRQUFRRSxXQUFXO1lBQ25CQyxRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJLENBQUNDLFdBQVc7WUFDaEI7UUFDSjtRQUVBLHlCQUF5QjtRQUN6QixJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJdkIsNERBQVFBLENBQUMsSUFBSSxFQUFDaUI7UUFFbEMsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ08sTUFBTSxHQUFHLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxNQUFNLENBQUNoQyxnRUFBbUIsR0FBQyxHQUFFQSxpRUFBb0IsR0FBRSxLQUFLO1FBQy9FLElBQUksQ0FBQ21DLGVBQWUsR0FBRyxJQUFJNUIsNkRBQVNBLENBQUMsSUFBSSxFQUFDUCxnRUFBbUIsR0FBQyxHQUFFQSxpRUFBb0IsR0FBQztRQUNyRixJQUFJLENBQUNvQyxZQUFZO1FBRWpCLGVBQWU7UUFDZixJQUFJLENBQUNDLEtBQUssR0FBRyxJQUFJN0IseURBQUtBLENBQUMsSUFBSSxFQUFDUixnRUFBbUIsR0FBQyxHQUFFQSxpRUFBb0IsR0FBQyxJQUFFO1FBQ3pFLElBQUksQ0FBQ3FDLEtBQUssQ0FBQ0MsYUFBYSxHQUFHLENBQUVDO1lBQ3pCLElBQUksQ0FBQ0MsZUFBZSxDQUFDQyxRQUFRLENBQUNGO1FBQ2xDO1FBRUEsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUkvQixtRUFBZUEsQ0FBRSxJQUFJLEVBQUVULGdFQUFtQixHQUFDLEdBQUVBLGlFQUFvQixHQUFDLEtBQUs7UUFDbEcsSUFBSSxDQUFDd0MsZUFBZSxDQUFDRSxrQkFBa0IsR0FBRztZQUN0QyxJQUFJLENBQUNGLGVBQWUsQ0FBQ0csY0FBYztZQUNuQyxJQUFJLENBQUNDLFlBQVk7UUFDckI7UUFFQSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLGlCQUFnQjtZQUNwQyxJQUFJLENBQUNWLFlBQVk7WUFDakIsSUFBSSxDQUFDVyxxQkFBcUI7UUFDOUI7UUFFQSxJQUFJLENBQUNGLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLG1CQUFrQjtZQUN0QyxJQUFJLENBQUNDLHFCQUFxQjtRQUM5QjtRQUVBLElBQUksQ0FBQ0YsTUFBTSxDQUFDQyxXQUFXLENBQUMsaUJBQWdCO1lBQ3BDLG9CQUFvQjtZQUVwQix1QkFBdUI7WUFDdkIsSUFBSSxDQUFDVCxLQUFLLENBQUNXLElBQUk7WUFFZixxQkFBcUI7WUFDckIsSUFBSSxDQUFDUixlQUFlLENBQUNTLGNBQWM7UUFDdkM7UUFFQSxJQUFJLENBQUNKLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLG1CQUFrQjtRQUN0QyxvQkFBb0I7UUFFcEIsZ0JBQWdCO1FBQ3BCO1FBRUEsSUFBSSxDQUFDRCxNQUFNLENBQUNDLFdBQVcsQ0FBQyxZQUFXO1lBQy9CLElBQUksQ0FBQyxJQUFJLENBQUNqQyxNQUFNLEVBQUU7Z0JBQ2Qsb0JBQW9CO2dCQUVwQixpQkFBaUI7Z0JBQ2pCLElBQUksQ0FBQ3dCLEtBQUssQ0FBQ2EsSUFBSTtZQUNuQjtRQUNKO1FBRUEsUUFBUTtRQUNSLElBQUlDLFdBQXVCLElBQUkvQyxtRUFBV0EsQ0FBQyxJQUFJLEVBQUUsS0FBS0osaUVBQW9CLEdBQUUsS0FBSTtRQUNoRm1ELFNBQVNDLEtBQUssR0FBRztRQUNqQixJQUFJLENBQUNyQixHQUFHLENBQUNzQixRQUFRLENBQUNGO1FBQ2xCQSxTQUFTRyxTQUFTLENBQUM7WUFDZixJQUFJLENBQUMxQixXQUFXO1FBQ3BCO1FBRUEsSUFBSTJCLFlBQXdCLElBQUluRCxtRUFBV0EsQ0FBQyxJQUFJLEVBQUUsS0FBS0osaUVBQW9CLEdBQUUsS0FBSTtRQUNqRnVELFVBQVVILEtBQUssR0FBRztRQUNsQixJQUFJLENBQUNyQixHQUFHLENBQUNzQixRQUFRLENBQUNFO1FBQ2xCQSxVQUFVRCxTQUFTLENBQUM7WUFDaEIsSUFBSSxDQUFDRSxZQUFZO1FBQ3JCO1FBRUEsSUFBSUMsY0FBMEIsSUFBSXJELG1FQUFXQSxDQUFDLElBQUksRUFBRUosZ0VBQW1CLEdBQUUsS0FBS0EsaUVBQW9CLEdBQUUsS0FBSTtRQUN4R3lELFlBQVlMLEtBQUssR0FBRztRQUNwQixJQUFJLENBQUNyQixHQUFHLENBQUNzQixRQUFRLENBQUNJO1FBQ2xCQSxZQUFZSCxTQUFTLENBQUM7WUFDbEIsSUFBSSxDQUFDVixZQUFZO1FBQ3JCO1FBRUEzQywrQ0FBUUEsQ0FBQ3lELElBQUksQ0FBQyx1QkFBdUIsSUFBSTtJQUM3QztJQUVBdEIsZUFBYztRQUNWLElBQUksQ0FBQ0QsZUFBZSxDQUFDQyxZQUFZLENBQUMsSUFBSSxDQUFDbEIsV0FBVyxDQUFDeUMsU0FBUyxFQUFDLElBQUksQ0FBQ3pDLFdBQVcsQ0FBQzBDLEtBQUs7SUFDdkY7SUFFQWhCLGVBQWM7UUFDVixJQUFJLENBQUNmLFFBQVEsQ0FBQ2dDLE1BQU0sQ0FBQztRQUNyQixFQUFFO1FBQ0YsSUFBSSxDQUFDQyxJQUFJLENBQUNDLFdBQVcsQ0FBQyxNQUFLO1lBQ3ZCLElBQUksQ0FBQ2xCLE1BQU0sQ0FBQ2EsSUFBSSxDQUFDO1FBQ3JCLEdBQUUsRUFBRSxFQUFDLElBQUk7SUFFYjtJQUVBOUIsY0FBYTtRQUNULElBQUksQ0FBQ29DLFVBQVU7SUFDbkI7SUFFQVIsZUFBYztRQUNWLElBQUksQ0FBQ3RDLFdBQVcsQ0FBQzJDLE1BQU07UUFDdkIsSUFBSSxDQUFDM0MsV0FBVyxDQUFDMkMsTUFBTTtRQUN2QixJQUFJLENBQUMzQyxXQUFXLENBQUMyQyxNQUFNO0lBQzNCO0lBRUFkLHdCQUF1QjtRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDbEMsTUFBTSxFQUFFO1lBQ2QsSUFBSSxJQUFJLENBQUNLLFdBQVcsQ0FBQ3lDLFNBQVMsSUFBSSxHQUFHO2dCQUNqQyxJQUFJLENBQUNNLFdBQVc7WUFDcEI7WUFFQSxJQUFJLElBQUksQ0FBQ3BDLFFBQVEsQ0FBQzhCLFNBQVMsSUFBSSxHQUFHO2dCQUM5QixJQUFJLENBQUNLLFVBQVU7WUFDbkI7UUFDSjtJQUNKO0lBRUFBLGFBQVk7UUFDUixJQUFJLENBQUNuRCxNQUFNLEdBQUc7UUFFZCxJQUFJLENBQUNpRCxJQUFJLENBQUNDLFdBQVcsQ0FBQyxNQUFLLEtBRTNCLEdBQUUsRUFBRSxFQUFDLElBQUk7SUFDYjtJQUVBRSxjQUFhO1FBQ1QsSUFBSSxDQUFDcEQsTUFBTSxHQUFHO1FBRWQsSUFBSSxDQUFDaUQsSUFBSSxDQUFDQyxXQUFXLENBQUMsTUFBSyxLQUUzQixHQUFFLEVBQUUsRUFBQyxJQUFJO0lBQ2I7SUFFQUcsUUFBTztRQUNILElBQUksQ0FBQ3JCLE1BQU0sQ0FBQ3NCLGNBQWMsQ0FBQztRQUMzQixJQUFJLENBQUN0QixNQUFNLENBQUNzQixjQUFjLENBQUM7UUFDM0IsSUFBSSxDQUFDdEIsTUFBTSxDQUFDc0IsY0FBYyxDQUFDO1FBQzNCLElBQUksQ0FBQ3RCLE1BQU0sQ0FBQ3NCLGNBQWMsQ0FBQztRQUMzQixJQUFJLENBQUN0QixNQUFNLENBQUNzQixjQUFjLENBQUM7UUFDM0IsSUFBSSxDQUFDdEIsTUFBTSxDQUFDc0IsY0FBYyxDQUFDO1FBQzNCLElBQUksQ0FBQ3BELE9BQU8sQ0FBQ3FELFFBQVE7SUFDekI7SUFwS0FDLGFBQ0E7UUFDSSxLQUFLLENBQUM7SUFDVjtBQWtLSiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvZ2FtZS9zY2VuZXMvQmF0dGxlLnRzP2Q3OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVMaWIgZnJvbSAnQC9saWIvR2FtZUxpYic7XG5pbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4uL0V2ZW50QnVzJztcbmltcG9ydCB7IEdhbWUsIEdhbWVPYmplY3RzLCBTY2VuZSB9IGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgUmVjdEJ1dHRvbiBmcm9tICdAL2xpYi9jb21wb25lbnRzL1JlY3RCdXR0b24nO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gJy4uL2NvbXBvbmVudHMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IERlYnVnQnV0dG9uIGZyb20gJ0AvbGliL2NvbXBvbmVudHMvRGVidWdCdXR0b24nO1xuaW1wb3J0IHsgQUNhcmQsIENhcmRSZXBvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkUmVwbyc7XG5pbXBvcnQgT3Bwb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9PcHBvbmVudCc7XG5pbXBvcnQgSGVhbHRoQmFyIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhbHRoQmFyJztcbmltcG9ydCBNb2RhbFNpbXBsZU1lc3NhZ2UgZnJvbSAnLi4vbW9kYWxzL01vZGFsU2ltcGxlTWVzc2FnZSc7XG5pbXBvcnQgTWF0Y2ggZnJvbSAnLi4vY29tcG9uZW50cy9NYXRjaCc7XG5pbXBvcnQgUGxheWVyQXR0YWNrQmFyIGZyb20gJy4uL2NvbXBvbmVudHMvUGxheWVyQXR0YWNrQmFyJztcblxuZXhwb3J0IGNsYXNzIEJhdHRsZSBleHRlbmRzIFNjZW5lXG57XG4gICAgZ2FtZU1hbmFnZXI6IEdhbWVNYW5hZ2VyXG4gICAgY2FtZXJhOiBQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkNhbWVyYTtcbiAgICAvL1xuICAgIGdhbWVPdmVyVGV4dCA6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIGJ1dHRvbjogUmVjdEJ1dHRvblxuICAgIC8vXG4gICAgcGxheWVyOiBHYW1lT2JqZWN0cy5TcHJpdGVcbiAgICBwbGF5ZXJIZWFsdGhCYXI6IEhlYWx0aEJhclxuICAgIHBsYXllckF0dGFja0JhcjogUGxheWVyQXR0YWNrQmFyXG4gICAgLy9cbiAgICBvcHBvbmVudDogT3Bwb25lbnRcbiAgICAvL1xuICAgIG1hdGNoOiBNYXRjaFxuICAgIGlzRG9uZTogYm9vbGVhblxuXG4gICAgY29uc3RydWN0b3IgKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCdCYXR0bGUnKTtcbiAgICB9XG5cbiAgICBjcmVhdGUgKCBkYXRhOiBhbnkgKVxuICAgIHsgICBcbiAgICAgICAgLy8gUmVzZXQgRGF0YVxuICAgICAgICB0aGlzLmlzRG9uZSA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLmNhbWVyYXMubWFpblxuICAgICAgICB0aGlzLmNhbWVyYS5zZXRCYWNrZ3JvdW5kQ29sb3IoMHhlNmU2ZTYpO1xuXG4gICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIgPSBuZXcgR2FtZU1hbmFnZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIubG9hZERhdGEoKVxuXG4gICAgICAgIC8vIEdldCBPcHBvbmVudCBEYXRhXG4gICAgICAgIGxldCBjYXJkS2V5ID0gdGhpcy5nYW1lTWFuYWdlci5nZXRDYXJkS2V5KCB0aGlzLmdhbWVNYW5hZ2VyLmJhdHRsZVNsb3ROdW1iZXIgKVxuICAgICAgICBsZXQgY2FyZDpBQ2FyZHx1bmRlZmluZWQgPSBDYXJkUmVwby5maW5kQ2FyZChjYXJkS2V5KVxuICAgICAgICBpZiggY2FyZCA9PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmFibGUgdG8gZmluZCBDYXJkIERhdGEnKVxuICAgICAgICAgICAgdGhpcy5zaW11bGF0ZVdpbigpXG4gICAgICAgICAgICByZXR1cm4gXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlbmRlciBPcHBvbmVudCBTcHJpdGVcbiAgICAgICAgdGhpcy5vcHBvbmVudCA9IG5ldyBPcHBvbmVudCh0aGlzLGNhcmQpO1xuXG4gICAgICAgIC8vIFJlbmRlciBQbGF5ZXJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLmFkZC5zcHJpdGUoR2FtZUxpYi5zY3JlZW5XaWR0aC8yLEdhbWVMaWIuc2NyZWVuSGVpZ2h0IC0yMDAsICdwbGF5ZXInKVxuICAgICAgICB0aGlzLnBsYXllckhlYWx0aEJhciA9IG5ldyBIZWFsdGhCYXIodGhpcyxHYW1lTGliLnNjcmVlbldpZHRoLzIsR2FtZUxpYi5zY3JlZW5IZWlnaHQtMzUwKVxuICAgICAgICB0aGlzLnJlbmRlckhlYWx0aCgpXG5cbiAgICAgICAgLy8gUmVuZGVyIE1hdGNoXG4gICAgICAgIHRoaXMubWF0Y2ggPSBuZXcgTWF0Y2godGhpcyxHYW1lTGliLnNjcmVlbldpZHRoLzIsR2FtZUxpYi5zY3JlZW5IZWlnaHQvMi01MClcbiAgICAgICAgdGhpcy5tYXRjaC5jYWxsYmFja1Njb3JlID0gKCB2YWx1ZTogbnVtYmVyICk9PntcbiAgICAgICAgICAgIHRoaXMucGxheWVyQXR0YWNrQmFyLmFkZFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciBBdHRhY2sgQmFyXG4gICAgICAgIHRoaXMucGxheWVyQXR0YWNrQmFyID0gbmV3IFBsYXllckF0dGFja0JhciggdGhpcywgR2FtZUxpYi5zY3JlZW5XaWR0aC8yLEdhbWVMaWIuc2NyZWVuSGVpZ2h0LTQ1MCwgMjAgKVxuICAgICAgICB0aGlzLnBsYXllckF0dGFja0Jhci5jYWxsYmFja0J1bGJCdXR0b24gPSAoKT0+e1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJBdHRhY2tCYXIuaGlkZUJ1bGJCdXR0b24oKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJBdHRhY2soKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ldmVudHMuYWRkTGlzdGVuZXIoJ3BsYXllci11cGRhdGUnLCgpPT57XG4gICAgICAgICAgICB0aGlzLnJlbmRlckhlYWx0aCgpXG4gICAgICAgICAgICB0aGlzLmNoZWNrV2luTG9zZUNvbmRpdGlvbigpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5ldmVudHMuYWRkTGlzdGVuZXIoJ29wcG9uZW50LXVwZGF0ZScsKCk9PntcbiAgICAgICAgICAgIHRoaXMuY2hlY2tXaW5Mb3NlQ29uZGl0aW9uKClcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZXZlbnRzLmFkZExpc3RlbmVyKCdwbGF5ZXItYXR0YWNrJywoKT0+e1xuICAgICAgICAgICAgLy8gU3RvcCBPcHBvbmVudCBCYXJcblxuICAgICAgICAgICAgLy8gU3RvcCAmIEhpZGUgTWF0Y2hpbmdcbiAgICAgICAgICAgIHRoaXMubWF0Y2guaGlkZSgpXG5cbiAgICAgICAgICAgIC8vIFNob3cgQXR0YWNrIEJ1dHRvblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJBdHRhY2tCYXIuc2hvd0J1bGJCdXR0b24oKVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgdGhpcy5ldmVudHMuYWRkTGlzdGVuZXIoJ29wcG9uZW50LWF0dGFjaycsKCk9PntcbiAgICAgICAgICAgIC8vIFN0b3AgT3Bwb25lbnQgQmFyXG5cbiAgICAgICAgICAgIC8vIFN0b3AgTWF0Y2hpbmdcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50cy5hZGRMaXN0ZW5lcignY29udGludWUnLCgpPT57XG4gICAgICAgICAgICBpZiggIXRoaXMuaXNEb25lICl7XG4gICAgICAgICAgICAgICAgLy8gU3RvcCBPcHBvbmVudCBCYXJcblxuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1hdGNoaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaC5zaG93KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vIERlYnVnXG4gICAgICAgIGxldCBkZWJ1Z1dpbjpEZWJ1Z0J1dHRvbiA9IG5ldyBEZWJ1Z0J1dHRvbih0aGlzLCAxNTAsIEdhbWVMaWIuc2NyZWVuSGVpZ2h0IC0xMDAsJ1NldCBXaW4nKVxuICAgICAgICBkZWJ1Z1dpbi5zY2FsZSA9IDAuNVxuICAgICAgICB0aGlzLmFkZC5leGlzdGluZyhkZWJ1Z1dpbilcbiAgICAgICAgZGVidWdXaW4ub25QcmVzc2VkKCgpPT57XG4gICAgICAgICAgICB0aGlzLnNpbXVsYXRlV2luKClcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIGxldCBkZWJ1Z0xvc2U6RGVidWdCdXR0b24gPSBuZXcgRGVidWdCdXR0b24odGhpcywgMTUwLCBHYW1lTGliLnNjcmVlbkhlaWdodCAtMjAwLCdTZXQgTG9zZScpXG4gICAgICAgIGRlYnVnTG9zZS5zY2FsZSA9IDAuNVxuICAgICAgICB0aGlzLmFkZC5leGlzdGluZyhkZWJ1Z0xvc2UpXG4gICAgICAgIGRlYnVnTG9zZS5vblByZXNzZWQoKCk9PntcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGVMb3NlKClcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgZGVidWdBdHRhY2s6RGVidWdCdXR0b24gPSBuZXcgRGVidWdCdXR0b24odGhpcywgR2FtZUxpYi5zY3JlZW5XaWR0aCAtMTUwLCBHYW1lTGliLnNjcmVlbkhlaWdodCAtMjAwLCdBdHRhY2snKVxuICAgICAgICBkZWJ1Z0F0dGFjay5zY2FsZSA9IDAuNVxuICAgICAgICB0aGlzLmFkZC5leGlzdGluZyhkZWJ1Z0F0dGFjaylcbiAgICAgICAgZGVidWdBdHRhY2sub25QcmVzc2VkKCgpPT57XG4gICAgICAgICAgICB0aGlzLnBsYXllckF0dGFjaygpXG4gICAgICAgIH0pXG5cbiAgICAgICAgRXZlbnRCdXMuZW1pdCgnY3VycmVudC1zY2VuZS1yZWFkeScsIHRoaXMpO1xuICAgIH1cblxuICAgIHJlbmRlckhlYWx0aCgpe1xuICAgICAgICB0aGlzLnBsYXllckhlYWx0aEJhci5yZW5kZXJIZWFsdGgodGhpcy5nYW1lTWFuYWdlci5jdXJyZW50SHAsdGhpcy5nYW1lTWFuYWdlci5tYXhIcClcbiAgICB9XG5cbiAgICBwbGF5ZXJBdHRhY2soKXtcbiAgICAgICAgdGhpcy5vcHBvbmVudC5kYW1hZ2UoMSlcbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDE1MDAsKCk9PntcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ2NvbnRpbnVlJyk7XG4gICAgICAgIH0sW10sdGhpcylcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc2ltdWxhdGVXaW4oKXtcbiAgICAgICAgdGhpcy5wcm9jZXNzV2luKClcbiAgICB9XG5cbiAgICBzaW11bGF0ZUxvc2UoKXtcbiAgICAgICAgdGhpcy5nYW1lTWFuYWdlci5kYW1hZ2UoKVxuICAgICAgICB0aGlzLmdhbWVNYW5hZ2VyLmRhbWFnZSgpXG4gICAgICAgIHRoaXMuZ2FtZU1hbmFnZXIuZGFtYWdlKClcbiAgICB9XG4gICAgXG4gICAgY2hlY2tXaW5Mb3NlQ29uZGl0aW9uKCl7XG4gICAgICAgIGlmKCAhdGhpcy5pc0RvbmUgKXtcbiAgICAgICAgICAgIGlmKCB0aGlzLmdhbWVNYW5hZ2VyLmN1cnJlbnRIcCA8PSAwICl7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTG9zZSgpXG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiggdGhpcy5vcHBvbmVudC5jdXJyZW50SHAgPD0gMCApe1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1dpbigpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9jZXNzV2luKCl7XG4gICAgICAgIHRoaXMuaXNEb25lID0gdHJ1ZVxuXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCgpPT57XG4gICAgICAgICAgICBcbiAgICAgICAgfSxbXSx0aGlzKTtcbiAgICB9XG5cbiAgICBwcm9jZXNzTG9zZSgpe1xuICAgICAgICB0aGlzLmlzRG9uZSA9IHRydWVcblxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwoKT0+e1xuXG4gICAgICAgIH0sW10sdGhpcyk7XG4gICAgfVxuXG4gICAgY2xlYW4oKXtcbiAgICAgICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoJ3BsYXllci11cGRhdGUnKTtcbiAgICAgICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoJ29wcG9uZW50LXVwZGF0ZScpO1xuICAgICAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcigncGxheWVyLWF0dGFjaycpO1xuICAgICAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcignb3Bwb25lbnQtYXR0YWNrJyk7XG4gICAgICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKCdjb250aW51ZScpO1xuICAgICAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcignYmF0dGxlLWVuZCcpO1xuICAgICAgICB0aGlzLmNhbWVyYXMucmVzZXRBbGwoKVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJHYW1lTGliIiwiRXZlbnRCdXMiLCJTY2VuZSIsIkdhbWVNYW5hZ2VyIiwiRGVidWdCdXR0b24iLCJDYXJkUmVwbyIsIk9wcG9uZW50IiwiSGVhbHRoQmFyIiwiTWF0Y2giLCJQbGF5ZXJBdHRhY2tCYXIiLCJCYXR0bGUiLCJjcmVhdGUiLCJkYXRhIiwiaXNEb25lIiwiY2FtZXJhIiwiY2FtZXJhcyIsIm1haW4iLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJnYW1lTWFuYWdlciIsImxvYWREYXRhIiwiY2FyZEtleSIsImdldENhcmRLZXkiLCJiYXR0bGVTbG90TnVtYmVyIiwiY2FyZCIsImZpbmRDYXJkIiwidW5kZWZpbmVkIiwiY29uc29sZSIsImxvZyIsInNpbXVsYXRlV2luIiwib3Bwb25lbnQiLCJwbGF5ZXIiLCJhZGQiLCJzcHJpdGUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInBsYXllckhlYWx0aEJhciIsInJlbmRlckhlYWx0aCIsIm1hdGNoIiwiY2FsbGJhY2tTY29yZSIsInZhbHVlIiwicGxheWVyQXR0YWNrQmFyIiwiYWRkVmFsdWUiLCJjYWxsYmFja0J1bGJCdXR0b24iLCJoaWRlQnVsYkJ1dHRvbiIsInBsYXllckF0dGFjayIsImV2ZW50cyIsImFkZExpc3RlbmVyIiwiY2hlY2tXaW5Mb3NlQ29uZGl0aW9uIiwiaGlkZSIsInNob3dCdWxiQnV0dG9uIiwic2hvdyIsImRlYnVnV2luIiwic2NhbGUiLCJleGlzdGluZyIsIm9uUHJlc3NlZCIsImRlYnVnTG9zZSIsInNpbXVsYXRlTG9zZSIsImRlYnVnQXR0YWNrIiwiZW1pdCIsImN1cnJlbnRIcCIsIm1heEhwIiwiZGFtYWdlIiwidGltZSIsImRlbGF5ZWRDYWxsIiwicHJvY2Vzc1dpbiIsInByb2Nlc3NMb3NlIiwiY2xlYW4iLCJyZW1vdmVMaXN0ZW5lciIsInJlc2V0QWxsIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/scenes/Battle.ts\n"));

/***/ })

});